from django.db import models
from django.contrib.auth.models import User,Group
from django.template.loader import render_to_string



class gus_member(models.Model):
	"""Use: u = gus_member(<userObject>) \n
	This just extends the Usermodel slightly and will serve as a key"""

	real_name=models.CharField(max_length=200)
	pid=models.ForeignKey(User)
				
class gus_group(models.Model):
	"""Use:g = gus_group(<groupObject>)\n
	likewise just extents the group object for our needs"""

	description=models.CharField(max_length=200)
	pid=models.ForeignKey(Group)

class display_user(models.Model):
	""" Use: disp=display_user(<user_object>,<func_name>)\n
		 print(<user_object>) #print the user in specified mode
	this class is just something to assist printing of users"""

	user=None
	def __init__(self,user,display_type):
		S="self."+display_type+"()"
		eval( S)
	def show_all(self):
		""" Use: disp.show_all()\n
		Sets User Display to VERY verbose
		"""
#		self.user.__unicode__=self.all_data_str()
	

	def all_data_str(self):
		"""Use: disp.all_data_str()\n
		Returns a HTML FORMATTED TEMPLATE"""
		rendered = render_to_string('gus_groups/show_user.html',
					 { 'user': self.user })
		print rendered
